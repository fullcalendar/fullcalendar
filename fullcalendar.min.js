/*
 * FullCalendar v1.4.1
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
(function(x){var D=x.fullCalendar={};var d=D.views={};var z={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,startParam:"start",endParam:"end",cacheParam:"_",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}};var a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var G=D.setDefaults=function(R){x.extend(true,z,R)};x.fn.fullCalendar=function(U){if(typeof U=="string"){var T=Array.prototype.slice.call(arguments,1),V;this.each(function(){var W=x.data(this,"fullCalendar")[U].apply(this,T);if(V==j){V=W}});if(V!=j){return V}return this}var S=U.eventSources||[];delete U.eventSources;if(U.events){S.push(U.events);delete U.events}S.unshift([]);U=x.extend(true,{},z,(U.isRTL||U.isRTL==j&&z.isRTL)?a:{},U);var R=U.theme?"ui":"fc";this.each(function(){var ak=this,Y=x(this).addClass("fc"),ap=x("<div class='fc-content "+R+"-widget-content' style='position:relative'/>").appendTo(this);if(U.isRTL){Y.addClass("fc-rtl")}if(U.theme){Y.addClass("ui-widget")}var aw=new Date(),an,aj,af={};if(U.year!=j&&U.year!=aw.getFullYear()){aw.setDate(1);aw.setMonth(0);aw.setFullYear(U.year)}if(U.month!=j&&U.month!=aw.getMonth()){aw.setDate(1);aw.setMonth(U.month)}if(U.date!=j){aw.setDate(U.date)}function az(aA){if(aA!=an){ab();if(aj){if(aj.eventsChanged){ao(aj);aj.eventsChanged=false}aj.element.hide()}if(af[aA]){(aj=af[aA]).element.show();if(aj.shown){aj.shown()}}else{aj=af[aA]=x.fullCalendar.views[aA](x("<div class='fc-view fc-view-"+aA+"'/>").appendTo(ap),U)}if(aq){aq.find("div.fc-button-"+an).removeClass(R+"-state-active");aq.find("div.fc-button-"+aA).addClass(R+"-state-active")}aj.name=an=aA;ay();ai()}}function ay(aB){if(ak.offsetWidth!==0){if(aB||!aj.date||+aj.date!=+aw){ab();aj.render(aw,aB||0,function(aC){if(!Z||aj.visStart<Z||aj.visEnd>ar){ah(aC)}else{aC(X)}});ai();aj.date=J(aw)}else{if(aj.sizeDirty){aj.updateSize();aj.rerenderEvents()}else{if(aj.eventsDirty){aj.clearEvents();aj.renderEvents(X)}}}if(aq){aq.find("h2.fc-header-title").html(aj.title);var aA=new Date();if(aA>=aj.start&&aA<aj.end){aq.find("div.fc-button-today").addClass(R+"-state-disabled")}else{aq.find("div.fc-button-today").removeClass(R+"-state-disabled")}}aj.sizeDirty=false;aj.eventsDirty=false;aj.trigger("viewDisplay",ak)}}function ao(aA){x.each(af,function(){if(this!=aA){this.eventsDirty=true}})}function am(aA){x.each(af,function(){if(this!=aA){this.sizeDirty=true}})}function aa(){aj.clearEvents();aj.renderEvents(X);ao(aj)}var X=[],Z,ar;function ah(aD){X=[];Z=J(aj.visStart);ar=J(aj.visEnd);var aC=S.length,aA=function(){if(--aC==0){if(aD){aD(X)}}},aB=0;for(;aB<S.length;aB++){ad(S[aB],aA)}}function ad(aF,aG){var aB=aj.name,aE=J(aw),aD=function(aH){if(aB==aj.name&&+aE==+aw){for(var aI=0;aI<aH.length;aI++){w(aH[aI],U);aH[aI].source=aF}X=X.concat(aH);if(aG){aG(aH)}}},aA=function(aH){aD(aH);ax()};if(typeof aF=="string"){var aC={};aC[U.startParam]=Math.round(Z.getTime()/1000);aC[U.endParam]=Math.round(ar.getTime()/1000);aC[U.cacheParam]=(new Date()).getTime();ae();x.getJSON(aF,aC,aA)}else{if(x.isFunction(aF)){ae();aF(J(Z),J(ar),aA)}else{aD(aF)}}}var at=0;function ae(){if(!at++){aj.trigger("loading",ak,true)}}function ax(){if(!--at){aj.trigger("loading",ak,false)}}var av={render:ay,changeView:az,prev:function(){ay(-1)},next:function(){ay(1)},prevYear:function(){P(aw,-1);ay()},nextYear:function(){P(aw,1);ay()},today:function(){aw=new Date();ay()},gotoDate:function(aA,aC,aB){if(typeof aA=="object"){aw=J(aA)}else{if(aA!=j){aw.setFullYear(aA)}if(aC!=j){aw.setMonth(aC)}if(aB!=j){aw.setDate(aB)}}ay()},incrementDate:function(aB,aA,aC){if(aB!=j){P(aw,aB)}if(aA!=j){l(aw,aA)}if(aC!=j){t(aw,aC)}ay()},updateEvent:function(aE){var aC,aA=X.length,aF,aD=aE.start-aE._start,aB=aE.end?(aE.end-(aE._end||aj.defaultEventEnd(aE))):0;for(aC=0;aC<aA;aC++){aF=X[aC];if(aF._id==aE._id&&aF!=aE){aF.start=new Date(+aF.start+aD);if(aE.end){if(aF.end){aF.end=new Date(+aF.end+aB)}else{aF.end=new Date(+aj.defaultEventEnd(aF)+aB)}}else{aF.end=null}aF.title=aE.title;aF.url=aE.url;aF.allDay=aE.allDay;aF.className=aE.className;aF.editable=aE.editable;w(aF,U)}}w(aE,U);aa()},renderEvent:function(aB,aA){w(aB,U);if(!aB.source){if(aA){(aB.source=S[0]).push(aB)}X.push(aB)}aa()},removeEvents:function(aB){if(!aB){X=[];for(var aA=0;aA<S.length;aA++){if(typeof S[aA]=="object"){S[aA]=[]}}}else{if(!x.isFunction(aB)){var aC=aB+"";aB=function(aD){return aD._id==aC}}X=x.grep(X,aB,true);for(var aA=0;aA<S.length;aA++){if(typeof S[aA]=="object"){S[aA]=x.grep(S[aA],aB,true)}}}aa()},clientEvents:function(aA){if(x.isFunction(aA)){return x.grep(X,aA)}else{if(aA){aA+="";return x.grep(X,function(aB){return aB._id==aA})}}return X},rerenderEvents:function(){aj.rerenderEvents()},addEventSource:function(aA){S.push(aA);ad(aA,function(){aa()})},removeEventSource:function(aA){S=x.grep(S,function(aB){return aB!=aA});X=x.grep(X,function(aB){return aB.source!=aA});aa()},refetchEvents:function(){ah(aa)}};x.data(this,"fullCalendar",av);var aq,al=U.header;if(al){aq=x("<table class='fc-header'/>").append(x("<tr/>").append(x("<td class='fc-header-left'/>").append(ag(al.left))).append(x("<td class='fc-header-center'/>").append(ag(al.center))).append(x("<td class='fc-header-right'/>").append(ag(al.right)))).prependTo(Y)}function ag(aA){if(aA){var aB=x("<tr/>");x.each(aA.split(" "),function(aD){if(aD>0){aB.append("<td><span class='fc-header-space'/></td>")}var aC;x.each(this.split(","),function(aG,aF){if(aF=="title"){aB.append("<td><h2 class='fc-header-title'/></td>");if(aC){aC.addClass(R+"-corner-right")}aC=null}else{var aE;if(av[aF]){aE=av[aF]}else{if(d[aF]){aE=function(){aH.removeClass(R+"-state-hover");az(aF)}}}if(aE){if(aC){aC.addClass(R+"-no-right")}var aH,aI=U.theme?g(U.buttonIcons,aF):null,aJ=g(U.buttonText,aF);if(aI){aH=x("<div class='fc-button-"+aF+" ui-state-default'><a><span class='ui-icon ui-icon-"+aI+"'/></a></div>")}else{if(aJ){aH=x("<div class='fc-button-"+aF+" "+R+"-state-default'><a><span>"+aJ+"</span></a></div>")}}if(aH){aH.click(function(){if(!aH.hasClass(R+"-state-disabled")){aE()}}).mousedown(function(){aH.not("."+R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-down")}).mouseup(function(){aH.removeClass(R+"-state-down")}).hover(function(){aH.not("."+R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-hover")},function(){aH.removeClass(R+"-state-hover").removeClass(R+"-state-down")}).appendTo(x("<td/>").appendTo(aB));if(aC){aC.addClass(R+"-no-right")}else{aH.addClass(R+"-corner-left")}aC=aH}}}});if(aC){aC.addClass(R+"-corner-right")}});return x("<table/>").append(aB)}}var au,ac=false,W=0;function ab(){if(!ac){ac=true;ap.css({overflow:"hidden",height:Math.round(ap.width()/U.aspectRatio)})}}function ai(){if(ac){ap.css({overflow:"visible",height:""});if(x.browser.msie&&(x.browser.version=="6.0"||x.browser.version=="7.0")){ap[0].clientHeight;ap.hide().show()}ac=false}}x(window).resize(function(){if(!ac&&aj.date){var aA=++W;setTimeout(function(){if(aA==W&&!ac){var aB=Y.width();if(aB!=au){au=aB;ab();aj.updateSize();ai();aj.rerenderEvents(true);am(aj);aj.trigger("windowResize",ak)}}},200)}});az(U.defaultView);au=Y.width()});return this};var I=0;function w(S,R){S._id=S._id||(S.id==j?"_fc"+I++:S.id+"");if(S.date){if(!S.start){S.start=S.date}delete S.date}S._start=J(S.start=e(S.start));S.end=e(S.end);if(S.end&&S.end<=S.start){S.end=null}S._end=S.end?J(S.end):null;if(S.allDay==j){S.allDay=R.allDayDefault}if(S.className){if(typeof S.className=="string"){S.className=S.className.split(/\s+/)}}else{S.className=[]}}G({weekMode:"fixed"});d.month=function(S,R){return new y(S,R,{render:function(V,aa,X){if(aa){l(V,aa);V.setDate(1)}var Z=this.start=J(V,true);Z.setDate(1);this.end=l(J(Z),1);var U=this.visStart=J(Z),T=this.visEnd=J(this.end),W=R.weekends?0:1;if(W){Q(U);Q(T,-1,true)}t(U,-((U.getDay()-Math.max(R.firstDay,W)+7)%7));t(T,(7-T.getDay()+Math.max(R.firstDay,W))%7);var Y=Math.round((T-U)/(L*7));if(R.weekMode=="fixed"){t(T,(6-Y)*7);Y=6}this.title=H(Z,this.option("titleFormat"),R);this.renderGrid(Y,R.weekends?7:5,this.option("columnFormat"),true,X)}})};d.basicWeek=function(S,R){return new y(S,R,{render:function(V,X,W){if(X){t(V,X*7)}var U=this.visStart=J(this.start=t(J(V),-((V.getDay()-R.firstDay+7)%7))),T=this.visEnd=J(this.end=t(J(U),7));if(!R.weekends){Q(U);Q(T,-1,true)}this.title=p(U,t(J(T),-1),this.option("titleFormat"),R);this.renderGrid(1,R.weekends?7:5,this.option("columnFormat"),false,W)}})};d.basicDay=function(S,R){return new y(S,R,{render:function(T,V,U){if(V){t(T,V);if(!R.weekends){Q(T,V<0?-1:1)}}this.title=H(T,this.option("titleFormat"),R);this.start=this.visStart=J(T,true);this.end=this.visEnd=t(J(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false,U)}})};var B,n;function y(T,W,an){var U,ad,X,Z,ah,ag,aa,aj,ao,al,S,ab,ae=x.extend(this,i,an,{renderGrid:ai,renderEvents:V,rerenderEvents:am,updateSize:ak,defaultEventEnd:function(ap){return J(ap.start)},visEventEnd:function(aq){if(aq.end){var ap=J(aq.end);return(aq.allDay||ap.getHours()||ap.getMinutes())?t(ap,1):ap}else{return t(J(aq.start),1)}}});ae.init(T,W);T.addClass("fc-grid").css("position","relative");if(T.disableSelection){T.disableSelection()}function ai(ap,aw,at,az,ay){aa=ap;aj=aw;U=W.theme?"ui":"fc";X=W.weekends?0:1;ad=W.firstDay;if(Z=W.isRTL){ah=-1;ag=aj-1}else{ah=1;ag=0}var au=ae.start.getMonth(),ax=r(new Date()),aC,ar,aq,av=J(ae.visStart);if(!S){var aB=x("<table/>").appendTo(T);aC="<thead><tr>";for(ar=0;ar<aj;ar++){aC+="<th class='fc-"+M[av.getDay()]+" "+U+"-state-default"+(ar==ag?" fc-leftmost":"")+"'>"+H(av,at,W)+"</th>";t(av,1);if(X){Q(av)}}al=x(aC+"</tr></thead>").appendTo(aB);aC="<tbody>";av=J(ae.visStart);for(ar=0;ar<aa;ar++){aC+="<tr class='fc-week"+ar+"'>";for(aq=0;aq<aj;aq++){aC+="<td class='fc-"+M[av.getDay()]+" "+U+"-state-default fc-day"+(ar*aj+aq)+(aq==ag?" fc-leftmost":"")+(aa>1&&av.getMonth()!=au?" fc-other-month":"")+(+av==+ax?" fc-today "+U+"-state-highlight":" fc-not-today")+"'>"+(az?"<div class='fc-day-number'>"+av.getDate()+"</div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";t(av,1);if(X){Q(av)}}aC+="</tr>"}S=x(aC+"</tbody>").appendTo(aB);S.find("td").click(R)}else{ae.clearEvents();var aA=S.find("tr").length;if(aa<aA){S.find("tr:gt("+(aa-1)+")").remove()}else{if(aa>aA){aC="";for(ar=aA;ar<aa;ar++){aC+="<tr class='fc-week"+ar+"'>";for(aq=0;aq<aj;aq++){aC+="<td class='fc-"+M[av.getDay()]+" "+U+"-state-default fc-new fc-day"+(ar*aj+aq)+(aq==ag?" fc-leftmost":"")+"'>"+(az?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";t(av,1);if(X){Q(av)}}aC+="</tr>"}S.append(aC)}}S.find("td.fc-new").removeClass("fc-new").click(R);av=J(ae.visStart);S.find("td").each(function(){var aD=x(this);if(aa>1){if(av.getMonth()==au){aD.removeClass("fc-other-month")}else{aD.addClass("fc-other-month")}}if(+av==+ax){aD.removeClass("fc-not-today").addClass("fc-today").addClass(U+"-state-highlight")}else{aD.addClass("fc-not-today").removeClass("fc-today").removeClass(U+"-state-highlight")}aD.find("div.fc-day-number").text(av.getDate());t(av,1);if(X){Q(av)}});if(aa==1){av=J(ae.visStart);al.find("th").each(function(){x(this).text(H(av,at,W));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+M[av.getDay()]);t(av,1);if(X){Q(av)}});av=J(ae.visStart);S.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+M[av.getDay()]);t(av,1);if(X){Q(av)}})}}ak();ay(V)}function R(aq){var ar=parseInt(this.className.match(/fc\-day(\d+)/)[1]),ap=t(J(ae.visStart),Math.floor(ar/aj)*7+ar%aj);ae.trigger("dayClick",this,ap,true,aq)}function ak(){var ap=Math.round(T.width()/W.aspectRatio),aq=S.find("tr td:first-child"),aw=ap-al.height(),au,at;if(W.weekMode=="variable"){au=at=Math.floor(aw/(aa==1?2:6))}else{au=Math.floor(aw/aa);at=aw-au*(aa-1)}A(S);if(B==j){var ar=S.find("tr:first"),av=ar.find("td:first");av.height(au);B=au!=av.height()}if(B){aq.slice(0,-1).height(au);aq.slice(-1).height(at)}else{f(aq.slice(0,-1),au);f(aq.slice(-1),at)}N(al.find("th").slice(0,-1),ao=Math.floor(T.width()/aj))}function V(ap){ae.reportEvents(ap);Y(ab=ac(ap))}function am(ap){ae.clearEvents();if(ap){Y(ab)}else{V(ae.cachedEvents)}}function ac(aq){var au=J(ae.visStart),ar=t(J(au),aj),at=[],ap=0;for(;ap<aa;ap++){at.push(C(ae.sliceSegs(aq,au,ar)));t(au,7);t(ar,7)}return at}function Y(aB){var aG,aI=aB.length,aw,ar,ax,aM,ay,aA,aE,az,aK,aD,aJ,aF,at,ap,aC,au,aL,aH,aq,av;for(aG=0;aG<aI;aG++){aw=aB[aG];ar=S.find("tr:eq("+aG+")");ax=ar.find("td:first");aM=ax.find("div.fc-day-content div").css("position","relative");ay=F(aM,ax,ar,S).top;aA=0;for(aE=0;aE<aw.length;aE++){az=aw[aE];aK=0;for(aD=0;aD<az.length;aD++){aJ=az[aD];aF=aJ.event;at="fc-event fc-event-hori ";ap=aJ.isStart?ar.find("td:eq("+((aJ.start.getDay()-Math.max(ad,X)+aj)%aj)+") div div"):S;aC=aJ.isEnd?ar.find("td:eq("+((aJ.end.getDay()-Math.max(ad,X)+aj-1)%aj)+") div div"):S;if(Z){au=aC.position().left;aL=ap.position().left+ap.width();if(aJ.isStart){at+="fc-corner-right "}if(aJ.isEnd){at+="fc-corner-left "}}else{au=ap.position().left;aL=aC.position().left+aC.width();if(aJ.isStart){at+="fc-corner-left "}if(aJ.isEnd){at+="fc-corner-right "}}aH=x("<div class='"+at+aF.className.join(" ")+"'/>").append(aq=x("<a/>").append(aF.allDay||!aJ.isStart?null:x("<span class='fc-event-time'/>").html(p(aF.start,aF.end,ae.option("timeFormat"),W))).append(x("<span class='fc-event-title'/>").text(aF.title)));if(aF.url){aq.attr("href",aF.url)}av=ae.trigger("eventRender",aF,aF,aH);if(av!==false){if(av&&typeof av!="boolean"){aH=x(av)}aH.css({position:"absolute",top:ay,left:au+(n||0),zIndex:8}).appendTo(T);N(aH,aL-au,true);if(Z&&n==j){n=au-aH.position().left;if(n){aH.css("left",au+n)}}ae.eventElementHandlers(aF,aH);if(aF.editable||aF.editable==j&&W.editable){af(aF,aH);if(aJ.isEnd){ae.resizableDayEvent(aF,aH,ao)}}ae.reportEventElement(aF,aH);aK=Math.max(aK,aH.outerHeight(true))}}aA+=aK;ay+=aK}aM.height(aA)}}function af(ar,aq){if(!W.disableDragging&&aq.draggable){var ap;aq.draggable({zIndex:9,delay:50,opacity:ae.option("dragOpacity"),revertDuration:W.dragRevertDuration,start:function(au,av){ae.hideEvents(ar,aq);ae.trigger("eventDragStart",aq,ar,au,av);ap=new c(function(aw){aq.draggable("option","revert",!aw||!aw.rowDelta&&!aw.colDelta);if(aw){ae.showOverlay(aw)}else{ae.hideOverlay()}});S.find("tr").each(function(){ap.row(this)});var at=S.find("tr:first td");if(Z){at=x(at.get().reverse())}at.each(function(){ap.col(this)});ap.mouse(au.pageX,au.pageY)},drag:function(at){ap.mouse(at.pageX,at.pageY)},stop:function(au,av){ae.hideOverlay();ae.trigger("eventDragStop",aq,ar,au,av);var at=ap.cell;if(!at||!at.rowDelta&&!at.colDelta){if(x.browser.msie){aq.css("filter","")}ae.showEvents(ar,aq)}else{aq.find("a").removeAttr("href");ae.eventDrop(this,ar,at.rowDelta*7+at.colDelta*ah,0,ar.allDay,au,av)}}})}}}G({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5}});d.agendaWeek=function(S,R){return new q(S,R,{render:function(V,X,W){if(X){t(V,X*7)}var U=this.visStart=J(this.start=t(J(V),-((V.getDay()-R.firstDay+7)%7))),T=this.visEnd=J(this.end=t(J(U),7));if(!R.weekends){Q(U);Q(T,-1,true)}this.title=p(U,t(J(T),-1),this.option("titleFormat"),R);this.renderAgenda(R.weekends?7:5,this.option("columnFormat"),W)}})};d.agendaDay=function(S,R){return new q(S,R,{render:function(T,V,U){if(V){t(T,V);if(!R.weekends){Q(T,V<0?-1:1)}}this.title=H(T,this.option("titleFormat"),R);this.start=this.visStart=J(T,true);this.end=this.visEnd=t(J(this.start),1);this.renderAgenda(1,this.option("columnFormat"),U)}})};function q(V,Z,aw){var ad,ai,ao,U,X,ap,au,ay,az,ax,af,W,aj,aa,ac,an,am,ak=x.extend(this,i,aw,{renderAgenda:ae,renderEvents:Y,rerenderEvents:at,updateSize:ar,shown:ag,defaultEventEnd:function(aA){var aB=J(aA.start);if(aA.allDay){return aB}return k(aB,Z.defaultEventMinutes)},visEventEnd:function(aB){if(aB.allDay){if(aB.end){var aA=J(aB.end);return(aB.allDay||aA.getHours()||aA.getMinutes())?t(aA,1):aA}else{return t(J(aB.start),1)}}if(aB.end){return J(aB.end)}else{return k(J(aB.start),Z.defaultEventMinutes)}}});ak.init(V,Z);V.addClass("fc-agenda").css("position","relative");if(V.disableSelection){V.disableSelection()}function ae(aG,aD,aI){ap=aG;W=Z.theme?"ui":"fc";aa=Z.weekends?0:1;aj=Z.firstDay;if(ac=Z.isRTL){an=-1;am=ap-1}else{an=1;am=0}var aA=ac?t(J(ak.visEnd),-1):J(ak.visStart),aE=J(aA),aH=r(new Date());if(!ad){var aC,aB,aF=Z.slotMinutes%15==0,aJ="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(Z.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+W+"-state-default'>&nbsp;</th>";for(aC=0;aC<ap;aC++){aJ+="<th class='fc-"+M[aE.getDay()]+" "+W+"-state-default'>"+H(aE,aD,Z)+"</th>";t(aE,an);if(aa){Q(aE,an)}}aJ+="<th class='"+W+"-state-default'>&nbsp;</th></tr>";if(Z.allDaySlot){aJ+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+W+"-state-default'>"+Z.allDayText+"</th><td colspan='"+ap+"' class='"+W+"-state-default'><div class='fc-day-content'><div>&nbsp;</div></div></td><th class='"+W+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(ap+2)+"' class='"+W+"-state-default fc-leftmost'><div/></th></tr>"}aJ+="</table></div>";ad=x(aJ).appendTo(V);ad.find("td").click(ab);aE=b();aJ="<table>";for(aC=0;aE.getDate()!=2;aC++){aB=aE.getMinutes();aJ+="<tr class='"+(aC==0?"fc-first":(aB==0?"":"fc-minor"))+"'><th class='fc-axis fc-leftmost "+W+"-state-default'>"+((!aF||aB==0)?H(aE,Z.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+aC+" "+W+"-state-default'><div>&nbsp;</div></td></tr>";k(aE,Z.slotMinutes)}aJ+="</table>";ai=x("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(ao=x("<div style='position:relative;overflow:hidden'>").append(U=x(aJ))).appendTo(V);ai.find("td").click(ab);aE=J(aA);aJ="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(aC=0;aC<ap;aC++){aJ+="<td class='fc-"+M[aC]+" "+W+"-state-default "+(aC==0?"fc-leftmost ":"")+(+aE==+aH?W+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";t(aE,an);if(aa){Q(aE,an)}}aJ+="</tr></table></div>";X=x(aJ).appendTo(V)}else{ak.clearEvents();ad.find("tr:first th").slice(1,-1).each(function(){x(this).text(H(aE,aD,Z));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+M[aE.getDay()]);t(aE,an);if(aa){Q(aE,an)}});aE=J(aA);X.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+M[aE.getDay()]);if(+aE==+aH){x(this).removeClass("fc-not-today").addClass("fc-today").addClass(W+"-state-highlight")}else{x(this).addClass("fc-not-today").removeClass("fc-today").removeClass(W+"-state-highlight")}t(aE,an);if(aa){Q(aE,an)}})}ar();ag();aI(Y)}function ag(){var aC=b(),aA=J(aC);aA.setHours(Z.firstHour);var aB=function(){ai.scrollTop(aq(aC,aA)+1)};if(x.browser.opera){setTimeout(aB,0)}else{aB()}}function ar(){U.width("");ai.height(Math.round(ai.width()/Z.aspectRatio)-ad.height());ai[0].clientWidth;var aC=ad.find("tr:first th"),aB=X.find("td"),aA=ai[0].clientWidth;U.width(aA);au=0;N(ad.find("tr:lt(2) th:first").add(ai.find("tr:first th")).width("").each(function(){au=Math.max(au,x(this).outerWidth())}),au);ay=Math.floor((aA-au)/ap);N(aB.slice(0,-1),ay);N(aC.slice(1,-2),ay);N(aC.slice(-2,-1),aA-au-ay*(ap-1));X.css({top:ad.find("tr").height(),left:au,width:aA-au,height:V.height()});az=ai.find("tr:first div").height()+1}function ab(aE){var aC=Math.floor((aE.pageX-X.offset().left)/ay),aB=t(J(ak.visStart),am+an*aC),aF=this.className.match(/fc-slot(\d+)/);if(aF){var aD=parseInt(aF[1])*Z.slotMinutes,aA=Math.floor(aD/60);aB.setHours(aA);aB.setMinutes(aD%60);ak.trigger("dayClick",this,aB,false,aE)}else{ak.trigger("dayClick",this,aB,true,aE)}}function Y(aD){ak.reportEvents(aD);var aC,aB=aD.length,aE=[],aA=[];for(aC=0;aC<aB;aC++){if(aD[aC].allDay){aE.push(aD[aC])}else{aA.push(aD[aC])}}al(ax=C(ak.sliceSegs(aE,ak.visStart,ak.visEnd)));ah(af=R(aA))}function at(aA){ak.clearEvents();if(aA){al(ax);ah(af)}else{Y(ak.cachedEvents)}}function R(aC){var aF=J(ak.visStart),aD=t(J(aF),1),aE,aA=[],aB=0;for(;aB<ap;aB++){aE=C(ak.sliceSegs(aC,aF,aD));E(aE);aA.push(aE);t(aF,1);t(aD,1)}return aA}function al(aK){if(Z.allDaySlot){var aJ=ad.find("td"),aV=aJ.find("div div"),aB=aJ.parent(),aL=F(aV,aJ,aB,aB.parent()).top,aM=0,aP,aR=aK.length,aA,aT,aN,aS,aO,aC,aD,aW,aG,aI,aF,aU,aQ,aE,aH;for(aP=0;aP<aR;aP++){aA=aK[aP];aT=0;for(aN=0;aN<aA.length;aN++){aS=aA[aN];aO=aS.event;aC="fc-event fc-event-hori ";if(ac){aD=aS.end.getDay()-1;aW=aS.isEnd;aG=aS.start.getDay();aI=aS.isStart}else{aD=aS.start.getDay();aW=aS.isStart;aG=aS.end.getDay()-1;aI=aS.isEnd}if(aW){aC+="fc-corner-left ";aF=X.find("td:eq("+(((aD-Math.max(aj,aa)+ap)%ap)*an+am)+") div div").position().left+au}else{aF=au}if(aI){aC+="fc-corner-right ";aU=X.find("td:eq("+(((aG-Math.max(aj,aa)+ap)%ap)*an+am)+") div div");aU=aU.position().left+aU.width()+au}else{aU=au+X.width()}aQ=x("<div class='"+aC+aO.className.join(" ")+"'/>").append(aE=x("<a/>").append(x("<span class='fc-event-title' />").text(aO.title)));if(aO.url){aE.attr("href",aO.url)}aH=ak.trigger("eventRender",aO,aO,aQ);if(aH!==false){if(aH&&typeof aH!="boolean"){aQ=x(aH)}aQ.css({position:"absolute",top:aL,left:aF,zIndex:8}).appendTo(ad);N(aQ,aU-aF,true);ak.eventElementHandlers(aO,aQ);if(aO.editable||aO.editable==j&&Z.editable){T(aO,aQ,aS.isStart);if(aS.isEnd){ak.resizableDayEvent(aO,aQ,ay)}}ak.reportEventElement(aO,aQ);aT=Math.max(aT,aQ.outerHeight(true))}}aL+=aT;aM+=aT}aV.height(aM);ar()}}function ah(aP){var aI,aQ=aP.length,aG,aE,aA,aL,aT,aK,aR,aM,aJ,aU,aO,aF,aB,aS,aD,aC,aN,aH;for(aI=0;aI<aQ;aI++){aG=aP[aI];for(aE=0;aE<aG.length;aE++){aA=aG[aE];for(aL=0;aL<aA.length;aL++){aT=aA[aL];aK=aT.forward||0;aR=aT.event;aM=aq(aT.start,aT.start);aJ=aq(aT.start,aT.end);aU=X.find("td:eq("+(aI*an+am)+") div div");availWidth=aU.width();if(aE){aO=availWidth/(aE+aK+1)}else{if(aK){aO=((availWidth/(aK+1))-(12/2))*2}else{aO=availWidth*0.96}}aF=au+aU.position().left+(availWidth/(aE+aK+1)*aE)*an+(ac?availWidth-aO:0);aB="fc-event fc-event-vert ";if(aT.isStart){aB+="fc-corner-top "}if(aT.isEnd){aB+="fc-corner-bottom "}aS=x("<div class='"+aB+aR.className.join(" ")+"' />").append(aD=x("<a><span class='fc-event-bg'/></a>").append(aC=x("<span class='fc-event-time'/>").text(p(aR.start,aR.end,ak.option("timeFormat")))).append(aN=x("<span class='fc-event-title'/>").text(aR.title)));if(aR.url){aD.attr("href",aR.url)}aH=ak.trigger("eventRender",aR,aR,aS);if(aH!==false){if(aH&&typeof aH!="boolean"){aS=x(aH)}aS.css({position:"absolute",zIndex:8,top:aM,left:aF}).appendTo(ao);N(aS,aO,true);f(aS,aJ-aM,true);if(aS.height()-aN.position().top<10){aC.text(H(aR.start,ak.option("timeFormat"))+" - "+aR.title);aN.remove()}ak.eventElementHandlers(aR,aS);if(aR.editable||aR.editable==j&&Z.editable){S(aR,aS,aC);if(aT.isEnd){av(aR,aS,aC)}}}ak.reportEventElement(aR,aS)}}}}function T(aF,aC,aA){if(!Z.disableDragging&&aC.draggable){var aE,aH,aD,aG=true,aB;aC.draggable({zIndex:9,opacity:ak.option("dragOpacity","month"),revertDuration:Z.dragRevertDuration,start:function(aI,aJ){ak.hideEvents(aF,aC);ak.trigger("eventDragStart",aC,aF,aI,aJ);aE=aC.position();aH=aC.width();aD=function(){if(!aG){aC.width(aH).height("").draggable("option","grid",null);aG=true}};aB=new c(function(aK){aC.draggable("option","revert",!aK||!aK.rowDelta&&!aK.colDelta);if(aK){if(!aK.row){aD();ak.showOverlay(aK)}else{if(aA&&aG){f(aC.width(ay-10),az*Math.round((aF.end?((aF.end-aF.start)/O):Z.defaultEventMinutes)/Z.slotMinutes));aC.draggable("option","grid",[ay,1]);aG=false}ak.hideOverlay()}}else{ak.hideOverlay()}});aB.row(ad.find("td"));X.find("td").each(function(){aB.col(this)});aB.row(ai);aB.mouse(aI.pageX,aI.pageY)},drag:function(aI,aJ){aB.mouse(aI.pageX,aI.pageY)},stop:function(aK,aL){ak.hideOverlay();ak.trigger("eventDragStop",aC,aF,aK,aL);var aI=aB.cell,aJ=an*(aG?(aI?aI.colDelta:0):Math.floor((aL.position.left-aE.left)/ay));if(!aI||!aJ&&!aI.rowDelta){aD();if(x.browser.msie){aC.css("filter","")}ak.showEvents(aF,aC)}else{aC.find("a").removeAttr("href");ak.eventDrop(this,aF,aJ,aG?0:Math.round((aC.offset().top-ao.offset().top)/az)*Z.slotMinutes-(aF.start.getHours()*60+aF.start.getMinutes()),aG,aK,aL)}}})}}function S(aA,aE,aG){if(!Z.disableDragging&&aE.draggable){var aB,aC,aD,aH,aI=false,aF;aE.draggable({zIndex:9,scroll:false,grid:[ay,az],axis:ap==1?"y":false,opacity:ak.option("dragOpacity"),revertDuration:Z.dragRevertDuration,start:function(aJ,aK){ak.hideEvents(aA,aE);ak.trigger("eventDragStart",aE,aA,aJ,aK);if(x.browser.msie){aE.find("span.fc-event-bg").hide()}aB=aE.position();aC=function(){if(aI){aG.css("display","");aE.draggable("option","grid",[ay,az]);aI=false}};aD=0;aF=new c(function(aL){aE.draggable("option","revert",!aL);if(aL){if(!aL.row&&Z.allDaySlot){if(!aI){aI=true;aG.hide();aE.draggable("option","grid",null)}ak.showOverlay(aL)}else{aC();ak.hideOverlay()}}else{ak.hideOverlay()}});if(Z.allDaySlot){aF.row(ad.find("td"))}X.find("td").each(function(){aF.col(this)});aF.row(ai);aF.mouse(aJ.pageX,aJ.pageY)},drag:function(aM,aN){aH=Math.round((aN.position.top-aB.top)/az);if(aH!=aD){if(!aI){var aK=aH*Z.slotMinutes,aJ=k(J(aA.start),aK),aL;if(aA.end){aL=k(J(aA.end),aK)}aG.text(p(aJ,aL,ak.option("timeFormat")))}aD=aH}aF.mouse(aM.pageX,aM.pageY)},stop:function(aL,aM){ak.hideOverlay();ak.trigger("eventDragStop",aE,aA,aL,aM);var aJ=aF.cell,aK=an*(aI?(aJ?aJ.colDelta:0):Math.floor((aM.position.left-aB.left)/ay));if(!aJ||!aH&&!aK){aC();if(x.browser.msie){aE.css("filter","").find("span.fc-event-bg").css("display","")}aE.css(aB);ak.showEvents(aA,aE)}else{ak.eventDrop(this,aA,aK,aI?0:aH*Z.slotMinutes,aI,aL,aM)}}})}}function av(aC,aB,aD){if(!Z.disableResizing&&aB.resizable){var aE,aA;aB.resizable({handles:"s",grid:az,start:function(aF,aG){aE=aA=0;ak.hideEvents(aC,aB);if(x.browser.msie&&x.browser.version=="6.0"){aB.css("overflow","hidden")}aB.css("z-index",9);ak.trigger("eventResizeStart",this,aC,aF,aG)},resize:function(aF,aG){aE=Math.round((Math.max(az,aB.height())-aG.originalSize.height)/az);if(aE!=aA){aD.text(p(aC.start,(!aE&&!aC.end)?null:k(ak.eventEnd(aC),Z.slotMinutes*aE),ak.option("timeFormat")));aA=aE}},stop:function(aF,aG){ak.trigger("eventResizeStop",this,aC,aF,aG);if(aE){ak.eventResize(this,aC,0,Z.slotMinutes*aE,aF,aG)}else{aB.css("z-index",8);ak.showEvents(aC,aB)}}}).find("div.ui-resizable-s").text("=")}}function aq(aB,aG){if(aG>aB&&aG.getDay()!=aB.getDay()){return ao.height()}var aA=Z.slotMinutes,aD=aG.getHours()*60+aG.getMinutes(),aC=Math.floor(aD/aA),aF=ai.find("tr:eq("+aC+")"),aH=aF.find("td"),aE=aH.find("div");return Math.max(0,Math.round(F(aE,aH,aF,aF.parent()).top-1+az*((aD%aA)/aA)))}}function E(V){var T,S,R,X,W,U;for(T=V.length-1;T>0;T--){X=V[T];for(S=0;S<X.length;S++){W=X[S];for(R=0;R<V[T-1].length;R++){U=V[T-1][R];if(s(W,U)){U.forward=Math.max(U.forward||0,(W.forward||0)+1)}}}}}var i={init:function(S,R){this.element=S;this.options=R;this.cachedEvents=[];this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(R,S){if(this.options[R]){return this.options[R].apply(S||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(R){return R.end?J(R.end):this.defaultEventEnd(R)},reportEvents:function(U){var T,R=U.length,V,S=this.eventsByID={},W=this.cachedEvents=[];for(T=0;T<R;T++){V=U[T];if(S[V._id]){S[V._id].push(V)}else{S[V._id]=[V]}W.push(V)}},reportEventElement:function(S,R){this.eventElements.push(R);var T=this.eventElementsByID;if(T[S._id]){T[S._id].push(R)}else{T[S._id]=[R]}},clearEvents:function(){x.each(this.eventElements,function(){this.remove()});this.eventElements=[];this.eventElementsByID={}},showEvents:function(S,R){this._eee(S,R,"show")},hideEvents:function(S,R){this._eee(S,R,"hide")},_eee:function(U,T,W){var V=this.eventElementsByID[U._id],S,R=V.length;for(S=0;S<R;S++){if(V[S]!=T){V[S][W]()}}},eventDrop:function(T,R,S,U,Z,W,V){var X=this,Y=R.allDay;X.moveEvents(X.eventsByID[R._id],S,U,Z);X.trigger("eventDrop",T,R,S,U,Z,function(){X.moveEvents(X.eventsByID[R._id],-S,-U,Y);X.rerenderEvents()},W,V);X.eventsChanged=true;X.rerenderEvents()},eventResize:function(X,V,T,S,U,W){var R=this;R.elongateEvents(R.eventsByID[V._id],T,S);R.trigger("eventResize",X,V,T,S,function(){R.elongateEvents(R.eventsByID[V._id],-T,-S);R.rerenderEvents()},U,W);R.eventsChanged=true;R.rerenderEvents()},moveEvents:function(V,T,S,W){S=S||0;for(var X,R=V.length,U=0;U<R;U++){X=V[U];if(W!=j){X.allDay=W}k(t(X.start,T,true),S);if(X.end){X.end=k(t(X.end,T,true),S)}w(X,this.options)}},elongateEvents:function(V,T,S){S=S||0;for(var W,R=V.length,U=0;U<R;U++){W=V[U];W.end=k(t(this.eventEnd(W),T,true),S);w(W,this.options)}},showOverlay:function(R){if(!this.dayOverlay){this.dayOverlay=x("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element)}var S=this.element.offset();this.dayOverlay.css({top:R.top-S.top,left:R.left-S.left,width:R.width,height:R.height}).show()},hideOverlay:function(){if(this.dayOverlay){this.dayOverlay.hide()}},resizableDayEvent:function(U,S,T){var R=this;if(!R.options.disableResizing&&S.resizable){S.resizable({handles:R.options.isRTL?"w":"e",grid:T,minWidth:T/2,containment:R.element.parent().parent(),start:function(V,W){S.css("z-index",9);R.hideEvents(U,S);R.trigger("eventResizeStart",this,U,V,W)},stop:function(W,X){R.trigger("eventResizeStop",this,U,W,X);var V=Math.round((S.width()-X.originalSize.width)/T);if(V){R.eventResize(this,U,V,0,W,X)}else{S.css("z-index",8);R.showEvents(U,S)}}})}},eventElementHandlers:function(T,S){var R=this;S.click(function(U){if(!S.hasClass("ui-draggable-dragging")&&!S.hasClass("ui-resizable-resizing")){return R.trigger("eventClick",this,T,U)}}).hover(function(U){R.trigger("eventMouseover",this,T,U)},function(U){R.trigger("eventMouseout",this,T,U)})},option:function(S,T){var R=this.options[S];if(typeof R=="object"){return g(R,T||this.name)}return R},sliceSegs:function(ac,T,W){var U=[],X,Z=ac.length,S,aa,Y,ab,ad,R,V;for(X=0;X<Z;X++){S=ac[X];aa=S.start;Y=this.visEventEnd(S);if(Y>T&&aa<W){if(aa<T){ab=J(T);R=false}else{ab=aa;R=true}if(Y>W){ad=J(W);V=false}else{ad=Y;V=true}U.push({event:S,start:ab,end:ad,isStart:R,isEnd:V,msLength:ad-ab})}}return U.sort(u)}};function C(T){var X=[],W,R=T.length,S,V,Y,U;for(W=0;W<R;W++){S=T[W];V=0;while(true){Y=false;if(X[V]){for(U=0;U<X[V].length;U++){if(s(X[V][U],S)){Y=true;break}}}if(Y){V++}else{break}}if(X[V]){X[V].push(S)}else{X[V]=[S]}}return X}function u(S,R){return(R.msLength-S.msLength)*100+(S.event.start-R.event.start)}function s(S,R){return S.end>R.start&&S.start<R.end}var L=86400000,m=3600000,O=60000;function P(S,T,R){S.setFullYear(S.getFullYear()+T);if(!R){r(S)}return S}function l(U,V,T){if(+U){var R=U.getMonth()+V,S=J(U);S.setDate(1);S.setMonth(R);U.setMonth(R);if(!T){r(U)}while(U.getMonth()!=S.getMonth()){U.setDate(U.getDate()+(U<S?1:-1))}}return U}function t(U,V,T){if(+U){var R=U.getDate()+V,S=J(U);S.setHours(12);S.setDate(R);U.setDate(R);if(!T){r(U)}while(U.getDate()!=S.getDate()){U.setTime(+U+(U<S?1:-1)*m)}}return U}D.addDays=t;function k(R,S){R.setMinutes(R.getMinutes()+S);return R}function r(R){R.setHours(0);R.setMinutes(0);R.setSeconds(0);R.setMilliseconds(0);return R}function J(R,S){if(S){return r(new Date(+R))}return new Date(+R)}function b(){var R=0,S;do{S=new Date(1970,R++,1)}while(S.getHours()!=0);return S}function Q(R,S,T){S=S||1;while(R.getDay()==0||(T&&R.getDay()==1||!T&&R.getDay()==6)){t(R,S)}return R}var e=D.parseDate=function(R){if(typeof R=="object"){return R}if(typeof R=="number"){return new Date(R*1000)}if(typeof R=="string"){if(R.match(/^\d+$/)){return new Date(parseInt(R)*1000)}return h(R,true)||new Date(R)||null}return null};var h=D.parseISO8601=function(T,R){var V=T.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!V){return null}var U=0;var S=new Date(V[1],0,1);if(V[3]){S.setMonth(V[3]-1)}if(V[5]){S.setDate(V[5])}if(V[7]){S.setHours(V[7])}if(V[8]){S.setMinutes(V[8])}if(V[10]){S.setSeconds(V[10])}if(V[12]){S.setMilliseconds(Number("0."+V[12])*1000)}if(!R){if(V[14]){U=(Number(V[16])*60)+Number(V[17]);U*=((V[15]=="-")?1:-1)}U-=S.getTimezoneOffset()}return new Date(Number(S)+(U*60*1000))};var H=D.formatDate=function(S,T,R){return p(S,null,T,R)};var p=D.formatDates=function(ad,ac,ab,ae){ae=ae||z;var S=ad,U=ac,V,W=ab.length,Y,T,aa,X="";for(V=0;V<W;V++){Y=ab.charAt(V);if(Y=="'"){for(T=V+1;T<W;T++){if(ab.charAt(T)=="'"){if(S){if(T==V+1){X+="'"}else{X+=ab.substring(V+1,T)}V=T}break}}}else{if(Y=="("){for(T=V+1;T<W;T++){if(ab.charAt(T)==")"){var R=H(S,ab.substring(V+1,T),ae);if(parseInt(R.replace(/\D/,""))){X+=R}V=T;break}}}else{if(Y=="["){for(T=V+1;T<W;T++){if(ab.charAt(T)=="]"){var Z=ab.substring(V+1,T);var R=H(S,Z,ae);if(R!=H(U,Z,ae)){X+=R}V=T;break}}}else{if(Y=="{"){S=ac;U=ad}else{if(Y=="}"){S=ad;U=ac}else{for(T=W;T>V;T--){if(aa=o[ab.substring(V,T)]){if(S){X+=aa(S,ae)}V=T-1;break}}if(T==V){if(S){X+=Y}}}}}}}}return X};var o={s:function(R){return R.getSeconds()},ss:function(R){return K(R.getSeconds())},m:function(R){return R.getMinutes()},mm:function(R){return K(R.getMinutes())},h:function(R){return R.getHours()%12||12},hh:function(R){return K(R.getHours()%12||12)},H:function(R){return R.getHours()},HH:function(R){return K(R.getHours())},d:function(R){return R.getDate()},dd:function(R){return K(R.getDate())},ddd:function(S,R){return R.dayNamesShort[S.getDay()]},dddd:function(S,R){return R.dayNames[S.getDay()]},M:function(R){return R.getMonth()+1},MM:function(R){return K(R.getMonth()+1)},MMM:function(S,R){return R.monthNamesShort[S.getMonth()]},MMMM:function(S,R){return R.monthNames[S.getMonth()]},yy:function(R){return(R.getFullYear()+"").substring(2)},yyyy:function(R){return R.getFullYear()},t:function(R){return R.getHours()<12?"a":"p"},tt:function(R){return R.getHours()<12?"am":"pm"},T:function(R){return R.getHours()<12?"A":"P"},TT:function(R){return R.getHours()<12?"AM":"PM"},u:function(R){return H(R,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(S){var R=S.getDate();if(R>10&&R<20){return"th"}return["st","nd","rd"][R%10-1]||"th"}};function N(S,T,R){S.each(function(){var V=x(this);var U=T-((parseInt(V.css("border-left-width"))||0)+(parseInt(V.css("padding-left"))||0)+(parseInt(V.css("padding-right"))||0)+(parseInt(V.css("border-right-width"))||0));if(R){U-=(parseInt(V.css("margin-left"))||0)+(parseInt(V.css("margin-right"))||0)}V.width(U)})}function f(T,R,S){T.each(function(){var V=x(this);var U=R-((parseInt(V.css("border-top-width"))||0)+(parseInt(V.css("padding-top"))||0)+(parseInt(V.css("padding-bottom"))||0)+(parseInt(V.css("border-bottom-width"))||0));if(S){U-=(parseInt(V.css("margin-top"))||0)+(parseInt(V.css("margin-bottom"))||0)}V.height(U)})}var v;function A(R){if(v==j){v=R.position().top!=R.find("tr").position().top}}function F(T,V,U,S){var R=T.position();if(v){R.top+=S.position().top+U.position().top-V.position().top}return R}function c(T){var Y=[],R=[],X,W,U,V,Z,S;this.row=function(ab,aa){X=x(ab);Y.push(X.offset().top+((v&&X.is("tr"))?X.parent().position().top:0))};this.col=function(aa){W=x(aa);R.push(W.offset().left)};this.mouse=function(aa,ad){if(U==j){Y.push(Y[Y.length-1]+X.outerHeight());R.push(R[R.length-1]+W.outerWidth());Z=S=-1}var ab,ac;for(ab=0;ab<Y.length&&ad>=Y[ab];ab++){}for(ac=0;ac<R.length&&aa>=R[ac];ac++){}ab=ab>=Y.length?-1:ab-1;ac=ac>=R.length?-1:ac-1;if(ab!=Z||ac!=S){Z=ab;S=ac;if(ab==-1||ac==-1){this.cell=null}else{if(U==j){U=ab;V=ac}this.cell={row:ab,col:ac,top:Y[ab],left:R[ac],width:R[ac+1]-R[ac],height:Y[ab+1]-Y[ab],isOrig:ab==U&&ac==V,rowDelta:ab-U,colDelta:ac-V}}T(this.cell)}}}var j,M=["sun","mon","tue","wed","thu","fri","sat"];function K(R){return(R<10?"0":"")+R}function g(V,R){if(V[R]!=j){return V[R]}var U=R.split(/(?=[A-Z])/),T=U.length-1,S;for(;T>=0;T--){S=V[U[T].toLowerCase()];if(S!=j){return S}}return V[""]}})(jQuery);